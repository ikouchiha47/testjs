<html>
<head>
<script type = "text/javascript" src = "modloader.js"></script>
</head>
<body>
V1 : <input type = "text" id = "val1"/>
v2 : <input type = "text" id = "val2"/>
<input type = "text" readonly id = "output"/>
<br/>

<div id ="options">
	<input type = "button" value = "add"/>
	<input type = "button" value = "substract"/>
</div>

<script type = "text/javascript">
modules(["js/util", "js/add", "js/subs"]).exec(function() {
		
		var v1 = $("#val1"),
		v2 = $("#val2"),
		v3 = $("#output"),
		op = $("#options"),
		operand,
		obj,
		self = this;
		console.log("in callback");
		op.addEventListener("click", function(e) {
			if(e && e.target) {
			operand = e.target.value;
			console.log(operand);
			obj = self[operand];
			v3.value = obj(+v1.value, +v2.value);
			}
			}, false);
		});

</script>
<br/>
<span></span>
</body>
</html>
